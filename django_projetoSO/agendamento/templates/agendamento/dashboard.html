{% extends 'agendamento/base.html' %}
{% load static %}
{% block title %}Admin Login{% endblock %}

{% block extra_css %}<link rel="stylesheet" type="text/css" href="{% static 'css/dashboard_style.css' %}" />{% endblock %}

{% block content %}
<div class="container">
	<div class="row justify-content-center text-center" id="cabecalho">
		<h1>Lista de Agendamentos</h1>
	</div>
	<div class="row">
		{% regroup agendamento_list by data as agendamentos_por_data %}
		{% for data_group in agendamentos_por_data %}
		<div class="col-md-3 mb-5 justify-content-center">
			<h3>{{ data_group.grouper }}</h3>
			<div class="accordion custom-accordion" id="nameList{{ forloop.counter }}">
				{% for agendamento in data_group.list|dictsort:"horario" %}
				<div class="accordion-item">
					<h2 class="accordion-header" id="name{{ forloop.parentloop.counter }}_{{ forloop.counter }}">
						<button
							class="accordion-button collapsed"
							type="button"
							data-bs-toggle="collapse"
							data-bs-target="#details{{ forloop.parentloop.counter }}_{{ forloop.counter }}"
							aria-expanded="false"
							aria-controls="details{{ forloop.parentloop.counter }}_{{ forloop.counter }}">
							{{ agendamento.nome_do_tutor }}<br />
							{{ agendamento.horario }}
						</button>
					</h2>
					<div
						id="details{{ forloop.parentloop.counter }}_{{ forloop.counter }}"
						class="accordion-collapse collapse"
						aria-labelledby="name{{ forloop.parentloop.counter }}_{{ forloop.counter }}"
						data-bs-parent="#nameList{{ forloop.parentloop.counter }}">
						<div class="accordion-body">
							<p>
								Nome do pet:
								{{ agendamento.nome_do_animal }}
							</p>
							<p>
								Tipo de pet:
								{{ agendamento.tipo_de_animal }}
							</p>
							<p>
								Idade do pet:
								{{ agendamento.idade_do_animal }}
							</p>
							<p>
								Peso do pet:
								{{ agendamento.peso_do_animal }}
							</p>
							<p>
								Observações:
								{{ agendamento.observacoes }}
							</p>
							<p>
								Whatsapp:
								{{ agendamento.whatsapp }}
							</p>
							<p>
								E-mail:
								{{ agendamento.email }}
							</p>

							<!-- Adicione os demais campos conforme necessário -->
						</div>
					</div>
				</div>
				{% endfor %}
			</div>
		</div>
		{% endfor %}
	</div>
</div>
{% endblock %}
{% block extra_js %}
<script src="{% static 'js/dashboard_scripts.js' %}" defer></script>
{% endblock %}
